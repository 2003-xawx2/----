[gd_scene load_steps=29 format=3 uid="uid://0m30030spux7"]

[ext_resource type="PackedScene" uid="uid://cn3oniutt1wks" path="res://ui/in_game_ui/in_game_ui.tscn" id="1_ja3ku"]
[ext_resource type="Texture2D" uid="uid://cgfydsls00vih" path="res://assets/level_1/level_1.png" id="2_07q0d"]
[ext_resource type="PackedScene" uid="uid://6mbeay3b7br3" path="res://world/initial_world/path_spawner/path_spawner.tscn" id="2_krvyn"]
[ext_resource type="Texture2D" uid="uid://cjkc3r0h4g78e" path="res://assets/level_1/lian_peng.png" id="3_1xti3"]
[ext_resource type="Texture2D" uid="uid://vlgdxq3tuneu" path="res://assets/level_1/Back_Mountain.png" id="3_ncdct"]
[ext_resource type="PackedScene" uid="uid://dwm1bdc1qdow4" path="res://misc/camera/scripy_camera.tscn" id="3_ye0bx"]
[ext_resource type="Texture2D" uid="uid://dyaju82k0xe74" path="res://assets/level_1/Fore_ground.png" id="4_fw688"]
[ext_resource type="Texture2D" uid="uid://bolxa20u4p6nf" path="res://assets/level_1/river.png" id="4_l2vxh"]
[ext_resource type="PackedScene" uid="uid://bu1qgln4rm4rm" path="res://entity/tower/tower_container/tower_container.tscn" id="5_056wd"]
[ext_resource type="Texture2D" uid="uid://b3srrqeqj1o2s" path="res://assets/level_1/MiddleLand.png" id="5_tjgwa"]
[ext_resource type="Texture2D" uid="uid://4ofloiffqrl1" path="res://assets/level_1/grassANDbridge.png" id="6_0uj1a"]
[ext_resource type="Texture2D" uid="uid://b61k00hgnn8ia" path="res://assets/level_1/right_flag.png" id="6_84wdt"]
[ext_resource type="Shader" path="res://world/initial_world/grass.gdshader" id="6_nug2j"]
[ext_resource type="Texture2D" uid="uid://o8vxuneix7k6" path="res://assets/level_1/fog.png" id="6_swpki"]
[ext_resource type="Texture2D" uid="uid://baaj3bju172fk" path="res://assets/level_1/container.png" id="6_t8nb4"]
[ext_resource type="Texture2D" uid="uid://b5l78ti50x75g" path="res://assets/level_1/left_flag.png" id="7_yeylc"]
[ext_resource type="Resource" uid="uid://ck4mbn35v5g5p" path="res://world/initial_world/path/initial_world.tres" id="15_q648t"]
[ext_resource type="Resource" uid="uid://bpgppb2ygfnjp" path="res://world/initial_world/path/initial_world_2.tres" id="16_7x6io"]
[ext_resource type="Script" path="res://misc/resource/csutom/enemy_spawner.gd" id="17_xe5gv"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_buc1d"]
shader = ExtResource("6_nug2j")
shader_parameter/swing_a = 30.0
shader_parameter/swing_multipler = 1.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_usj5o"]
shader = ExtResource("6_nug2j")
shader_parameter/swing_a = 20.0
shader_parameter/swing_multipler = 0.4

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2alot"]
shader = ExtResource("6_nug2j")
shader_parameter/swing_a = 25.0
shader_parameter/swing_multipler = 0.5

[sub_resource type="Animation" id="Animation_c70q8"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Fog:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("RightFlag:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("LeftFlag:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_1ohrf"]
resource_name = "wiggle"
length = 7.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Fog:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("RightFlag:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 2, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8, 2.9, 3, 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7, 3.8, 3.9, 4, 4.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.7, 4.8, 4.9, 5, 5.1, 5.2, 5.3, 5.4, 5.5, 5.6, 5.7, 5.8, 5.9, 6, 6.1, 6.2, 6.3, 6.4, 6.5, 6.6, 6.7, 6.8, 6.9, 7, 7.1, 7.2, 7.3, 7.4, 7.5, 7.6, 7.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("LeftFlag:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 2, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8, 2.9, 3, 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7, 3.8, 3.9, 4, 4.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.7, 4.8, 4.9, 5, 5.1, 5.2, 5.3, 5.4, 5.5, 5.6, 5.7, 5.8, 5.9, 6, 6.1, 6.2, 6.3, 6.4, 6.5, 6.6, 6.7, 6.8, 6.9, 7, 7.1, 7.2, 7.3, 7.4, 7.5, 7.6, 7.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_uh6xx"]
_data = {
"RESET": SubResource("Animation_c70q8"),
"wiggle": SubResource("Animation_1ohrf")
}

[sub_resource type="Resource" id="Resource_wq4de"]
script = ExtResource("17_xe5gv")
spawn_position = Vector2(2797, 501)
end_position = Vector2(-868, 526)
enemy_type = 0
enemy_faction = 1
showing_time = 1.0
show_interval = 2.0
show_amounts = 2

[sub_resource type="Resource" id="Resource_c4l2k"]
script = ExtResource("17_xe5gv")
spawn_position = Vector2(-868, 526)
end_position = Vector2(2797, 501)
enemy_type = 0
enemy_faction = 2
showing_time = 10.0
show_interval = 0.0
show_amounts = 1

[sub_resource type="NavigationPolygon" id="NavigationPolygon_7gppw"]
vertices = PackedVector2Array(-1184, 88, -1219, 89, -2345, 88, -2135, -245, -1243, -239, -1118, -123, -1057, 22, 1216, -236, 2076, -214, 2244, 92, 1058, 88, 1121, -155, 961, -78, 980, -121, -998, -95, -966, -78, -578, -456, -572, -402, 579, -394, 623, -417, 489, -535, 622, -418, 126, -433, -5, -551, -1, -46, -350, -37, -312, -212, -138, -408, 120, -421, 302, -206, 317, -40, -415, -299, -148, -421, -134, 334, -267, 142, -266, 143, 291, 154, 137, 300, -346, -4, 2, -13, 309, 1, 1054, 111, 2217, 115, 2076, 436, 1329, 450, 1219, 423, 1130, 293, 940, 149, 960, 265, 922, 236, 609, 559, 574, 525, 250, 580, 295, 702, -383, 703, -293, 560, -1162, 329, -1277, 434, -2137, 452, -2200, 114, -1218, 113, -1055, 182, -1031, 274, -987, 248, -986, 249, -609, 539, -637, 570)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5, 6), PackedInt32Array(7, 8, 9, 10, 11), PackedInt32Array(11, 10, 12, 13), PackedInt32Array(6, 5, 14, 15), PackedInt32Array(15, 14, 16, 17), PackedInt32Array(13, 12, 18, 19), PackedInt32Array(20, 21, 19, 18, 22, 23), PackedInt32Array(24, 25, 26, 27, 23, 28, 29), PackedInt32Array(29, 30, 24), PackedInt32Array(31, 17, 16, 23, 32), PackedInt32Array(27, 32, 23), PackedInt32Array(23, 22, 28), PackedInt32Array(33, 34, 35), PackedInt32Array(36, 37, 33, 35, 38, 39, 40), PackedInt32Array(41, 42, 43, 44, 45, 46), PackedInt32Array(47, 41, 46, 48, 49), PackedInt32Array(49, 48, 50, 51), PackedInt32Array(52, 51, 50, 53, 54), PackedInt32Array(33, 37, 52, 54, 55), PackedInt32Array(56, 57, 58, 59, 60, 61), PackedInt32Array(62, 56, 61, 63, 64), PackedInt32Array(65, 55, 54, 66), PackedInt32Array(64, 65, 66, 62)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-1181, 98, -1052, 31, -959, -71, -571, -390, -417, -288, -151, -409, -322, -217, -363, -27, -1, -36, 329, -30, 312, -212, 132, -422, 575, -384, 953, -71, 1052, 98, 2262, 103, 2083, -224, 1212, -247, 1116, -164, 983, -132, 629, -425, 493, -545, -7, -562, -584, -466, -1001, -106, -1113, -132, -1240, -249, -2140, -256, -2363, 98, -1219, 99), PackedVector2Array(-2213, 105, -2146, 463, -1274, 444, -1157, 338, -1032, 285, -642, 579, -387, 714, 297, 712, 615, 568, 963, 276, 1124, 302, 1214, 433, 1328, 461, 2083, 446, 2233, 106, 1054, 101, 932, 142, 913, 231, 570, 516, 256, 569, 149, 303, 301, 159, 321, -8, 2, -23, -363, -14, -275, 148, -146, 334, -298, 550, -605, 529, -980, 241, -1050, 174, -1217, 103)])
source_geometry_group_name = &"navigation_polygon_source_group"

[node name="InitialWorld" type="Node2D"]

[node name="Map" type="Node2D" parent="."]

[node name="ParallaxBackground" type="ParallaxBackground" parent="Map"]

[node name="BackGround" type="ParallaxLayer" parent="Map/ParallaxBackground"]
position = Vector2(168, 374)
motion_scale = Vector2(0.2, 2.08165e-12)

[node name="RedBack" type="Sprite2D" parent="Map/ParallaxBackground/BackGround"]
position = Vector2(1002, 578)
scale = Vector2(16, 12)
texture = ExtResource("2_07q0d")
vframes = 8

[node name="FarMoutain" type="Sprite2D" parent="Map/ParallaxBackground/BackGround"]
position = Vector2(1000, 604)
scale = Vector2(9, 9)
texture = ExtResource("3_ncdct")

[node name="Water" type="Sprite2D" parent="Map"]
y_sort_enabled = true
material = SubResource("ShaderMaterial_buc1d")
position = Vector2(1000, 604)
scale = Vector2(0.9, 0.9)
texture = ExtResource("4_l2vxh")

[node name="MiddleLand" type="Sprite2D" parent="Map"]
y_sort_enabled = true
position = Vector2(1000, 604)
scale = Vector2(9, 9)
texture = ExtResource("5_tjgwa")

[node name="GAB" type="Sprite2D" parent="Map/MiddleLand"]
z_index = 1
y_sort_enabled = true
texture = ExtResource("6_0uj1a")

[node name="Fog" type="Sprite2D" parent="Map"]
y_sort_enabled = true
position = Vector2(1165, 706)
scale = Vector2(8, 8)
texture = ExtResource("6_swpki")
hframes = 9

[node name="RightFlag" type="Sprite2D" parent="Map"]
y_sort_enabled = true
position = Vector2(2470, 157)
scale = Vector2(9, 9)
texture = ExtResource("6_84wdt")
hframes = 6

[node name="LeftFlag" type="Sprite2D" parent="Map"]
y_sort_enabled = true
position = Vector2(-504, 164)
scale = Vector2(9, 9)
texture = ExtResource("7_yeylc")
hframes = 6

[node name="Flower" type="Sprite2D" parent="Map"]
position = Vector2(1000, 549)
scale = Vector2(9, 9)
texture = ExtResource("2_07q0d")
offset = Vector2(-0.444443, 6)
vframes = 8
frame = 6

[node name="TowerContainer" parent="Map/Flower" instance=ExtResource("5_056wd")]
position = Vector2(-29.0444, 2.62225)
scale = Vector2(0.08, 0.08)
texture = ExtResource("6_t8nb4")

[node name="TowerContainer2" parent="Map/Flower" instance=ExtResource("5_056wd")]
position = Vector2(30.3999, 2.62225)
scale = Vector2(0.08, 0.08)
texture = ExtResource("6_t8nb4")

[node name="TowerContainer3" parent="Map/Flower" instance=ExtResource("5_056wd")]
position = Vector2(-0.266724, 28.8445)
scale = Vector2(0.08, 0.08)
texture = ExtResource("6_t8nb4")

[node name="TowerContainer4" parent="Map/Flower" instance=ExtResource("5_056wd")]
position = Vector2(-0.266724, -28.7111)
scale = Vector2(0.08, 0.08)
texture = ExtResource("6_t8nb4")

[node name="seedpod" type="Sprite2D" parent="Map"]
z_index = 1
y_sort_enabled = true
material = SubResource("ShaderMaterial_usj5o")
position = Vector2(1000.4, 603.8)
scale = Vector2(9, 9)
texture = ExtResource("3_1xti3")

[node name="ForeGlass" type="Sprite2D" parent="Map"]
z_index = 1
y_sort_enabled = true
material = SubResource("ShaderMaterial_2alot")
position = Vector2(1000, 604)
scale = Vector2(9, 9)
texture = ExtResource("4_fw688")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Map"]
libraries = {
"": SubResource("AnimationLibrary_uh6xx")
}
autoplay = "wiggle"
speed_scale = 0.8

[node name="PathSpawner" parent="." instance=ExtResource("2_krvyn")]
PathArray = Array[ExtResource("17_xe5gv")]([ExtResource("15_q648t"), ExtResource("16_7x6io"), SubResource("Resource_wq4de"), SubResource("Resource_c4l2k")])

[node name="left_top" type="Node2D" parent="PathSpawner"]
position = Vector2(-868, 526)

[node name="left_bottom" type="Node2D" parent="PathSpawner"]
position = Vector2(-887, 882)

[node name="right_top" type="Node2D" parent="PathSpawner"]
position = Vector2(2797, 501)

[node name="right_bottom" type="Node2D" parent="PathSpawner"]
position = Vector2(2808, 873)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="PathSpawner"]
position = Vector2(1000, 600)
navigation_polygon = SubResource("NavigationPolygon_7gppw")

[node name="ScripyCamera" parent="." node_paths=PackedStringArray("map") instance=ExtResource("3_ye0bx")]
map = NodePath("../Map/Flower")
acceleration = 2.4
zoom_adjust_percent = 0.08

[node name="InGameUI" parent="." instance=ExtResource("1_ja3ku")]
